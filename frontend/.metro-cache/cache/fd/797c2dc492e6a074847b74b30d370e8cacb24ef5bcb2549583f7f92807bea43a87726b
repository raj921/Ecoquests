{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"./isRecordEqual.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":51,"index":98}}],"key":"E5lU3h554k94C0V5puhR219BWnU=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CHILD_STATE = void 0;\n  exports.useRouteCache = useRouteCache;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _isRecordEqual = require(_dependencyMap[1], \"./isRecordEqual.js\");\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  /**\n   * Utilities such as `getFocusedRouteNameFromRoute` need to access state.\n   * So we need a way to suppress the warning for those use cases.\n   * This is fine since they are internal utilities and this is not public API.\n   */\n  const CHILD_STATE = exports.CHILD_STATE = Symbol('CHILD_STATE');\n\n  /**\n   * Hook to cache route props for each screen in the navigator.\n   * This lets add warnings and modifications to the route object but keep references between renders.\n   */\n  function useRouteCache(routes) {\n    // Cache object which holds route objects for each screen\n    const cache = React.useMemo(() => ({\n      current: new Map()\n    }), []);\n    cache.current = routes.reduce((acc, route) => {\n      const previous = cache.current.get(route.key);\n      const {\n        state,\n        ...routeWithoutState\n      } = route;\n      let proxy;\n      if (previous && (0, _isRecordEqual.isRecordEqual)(previous, routeWithoutState)) {\n        // If a cached route object already exists, reuse it\n        proxy = previous;\n      } else {\n        proxy = routeWithoutState;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        // FIXME: since the state is updated with mutation, the route object cannot be frozen\n        // As a workaround, loop through the object and make the properties readonly\n        for (const key in proxy) {\n          // @ts-expect-error: this is fine since we are looping through the object\n          const value = proxy[key];\n          Object.defineProperty(proxy, key, {\n            enumerable: true,\n            configurable: true,\n            writable: false,\n            value\n          });\n        }\n      }\n      Object.defineProperty(proxy, CHILD_STATE, {\n        enumerable: false,\n        configurable: true,\n        value: state\n      });\n      acc.set(route.key, proxy);\n      return acc;\n    }, new Map());\n    return Array.from(cache.current.values());\n  }\n});","lineCount":65,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"CHILD_STATE"],[7,21,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useRouteCache"],[8,23,1,13],[8,26,1,13,"useRouteCache"],[8,39,1,13],[9,2,3,0],[9,6,3,0,"React"],[9,11,3,0],[9,14,3,0,"_interopRequireWildcard"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,4,0],[10,6,4,0,"_isRecordEqual"],[10,20,4,0],[10,23,4,0,"require"],[10,30,4,0],[10,31,4,0,"_dependencyMap"],[10,45,4,0],[11,2,4,51],[11,11,4,51,"_interopRequireWildcard"],[11,35,4,51,"e"],[11,36,4,51],[11,38,4,51,"t"],[11,39,4,51],[11,68,4,51,"WeakMap"],[11,75,4,51],[11,81,4,51,"r"],[11,82,4,51],[11,89,4,51,"WeakMap"],[11,96,4,51],[11,100,4,51,"n"],[11,101,4,51],[11,108,4,51,"WeakMap"],[11,115,4,51],[11,127,4,51,"_interopRequireWildcard"],[11,150,4,51],[11,162,4,51,"_interopRequireWildcard"],[11,163,4,51,"e"],[11,164,4,51],[11,166,4,51,"t"],[11,167,4,51],[11,176,4,51,"t"],[11,177,4,51],[11,181,4,51,"e"],[11,182,4,51],[11,186,4,51,"e"],[11,187,4,51],[11,188,4,51,"__esModule"],[11,198,4,51],[11,207,4,51,"e"],[11,208,4,51],[11,214,4,51,"o"],[11,215,4,51],[11,217,4,51,"i"],[11,218,4,51],[11,220,4,51,"f"],[11,221,4,51],[11,226,4,51,"__proto__"],[11,235,4,51],[11,243,4,51,"default"],[11,250,4,51],[11,252,4,51,"e"],[11,253,4,51],[11,270,4,51,"e"],[11,271,4,51],[11,294,4,51,"e"],[11,295,4,51],[11,320,4,51,"e"],[11,321,4,51],[11,330,4,51,"f"],[11,331,4,51],[11,337,4,51,"o"],[11,338,4,51],[11,341,4,51,"t"],[11,342,4,51],[11,345,4,51,"n"],[11,346,4,51],[11,349,4,51,"r"],[11,350,4,51],[11,358,4,51,"o"],[11,359,4,51],[11,360,4,51,"has"],[11,363,4,51],[11,364,4,51,"e"],[11,365,4,51],[11,375,4,51,"o"],[11,376,4,51],[11,377,4,51,"get"],[11,380,4,51],[11,381,4,51,"e"],[11,382,4,51],[11,385,4,51,"o"],[11,386,4,51],[11,387,4,51,"set"],[11,390,4,51],[11,391,4,51,"e"],[11,392,4,51],[11,394,4,51,"f"],[11,395,4,51],[11,411,4,51,"t"],[11,412,4,51],[11,416,4,51,"e"],[11,417,4,51],[11,433,4,51,"t"],[11,434,4,51],[11,441,4,51,"hasOwnProperty"],[11,455,4,51],[11,456,4,51,"call"],[11,460,4,51],[11,461,4,51,"e"],[11,462,4,51],[11,464,4,51,"t"],[11,465,4,51],[11,472,4,51,"i"],[11,473,4,51],[11,477,4,51,"o"],[11,478,4,51],[11,481,4,51,"Object"],[11,487,4,51],[11,488,4,51,"defineProperty"],[11,502,4,51],[11,507,4,51,"Object"],[11,513,4,51],[11,514,4,51,"getOwnPropertyDescriptor"],[11,538,4,51],[11,539,4,51,"e"],[11,540,4,51],[11,542,4,51,"t"],[11,543,4,51],[11,550,4,51,"i"],[11,551,4,51],[11,552,4,51,"get"],[11,555,4,51],[11,559,4,51,"i"],[11,560,4,51],[11,561,4,51,"set"],[11,564,4,51],[11,568,4,51,"o"],[11,569,4,51],[11,570,4,51,"f"],[11,571,4,51],[11,573,4,51,"t"],[11,574,4,51],[11,576,4,51,"i"],[11,577,4,51],[11,581,4,51,"f"],[11,582,4,51],[11,583,4,51,"t"],[11,584,4,51],[11,588,4,51,"e"],[11,589,4,51],[11,590,4,51,"t"],[11,591,4,51],[11,602,4,51,"f"],[11,603,4,51],[11,608,4,51,"e"],[11,609,4,51],[11,611,4,51,"t"],[11,612,4,51],[12,2,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,2,10,7],[17,8,10,13,"CHILD_STATE"],[17,19,10,24],[17,22,10,24,"exports"],[17,29,10,24],[17,30,10,24,"CHILD_STATE"],[17,41,10,24],[17,44,10,27,"Symbol"],[17,50,10,33],[17,51,10,34],[17,64,10,47],[17,65,10,48],[19,2,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,2,16,7],[23,11,16,16,"useRouteCache"],[23,24,16,29,"useRouteCache"],[23,25,16,30,"routes"],[23,31,16,36],[23,33,16,38],[24,4,17,2],[25,4,18,2],[25,10,18,8,"cache"],[25,15,18,13],[25,18,18,16,"React"],[25,23,18,21],[25,24,18,22,"useMemo"],[25,31,18,29],[25,32,18,30],[25,39,18,37],[26,6,19,4,"current"],[26,13,19,11],[26,15,19,13],[26,19,19,17,"Map"],[26,22,19,20],[26,23,19,21],[27,4,20,2],[27,5,20,3],[27,6,20,4],[27,8,20,6],[27,10,20,8],[27,11,20,9],[28,4,21,2,"cache"],[28,9,21,7],[28,10,21,8,"current"],[28,17,21,15],[28,20,21,18,"routes"],[28,26,21,24],[28,27,21,25,"reduce"],[28,33,21,31],[28,34,21,32],[28,35,21,33,"acc"],[28,38,21,36],[28,40,21,38,"route"],[28,45,21,43],[28,50,21,48],[29,6,22,4],[29,12,22,10,"previous"],[29,20,22,18],[29,23,22,21,"cache"],[29,28,22,26],[29,29,22,27,"current"],[29,36,22,34],[29,37,22,35,"get"],[29,40,22,38],[29,41,22,39,"route"],[29,46,22,44],[29,47,22,45,"key"],[29,50,22,48],[29,51,22,49],[30,6,23,4],[30,12,23,10],[31,8,24,6,"state"],[31,13,24,11],[32,8,25,6],[32,11,25,9,"routeWithoutState"],[33,6,26,4],[33,7,26,5],[33,10,26,8,"route"],[33,15,26,13],[34,6,27,4],[34,10,27,8,"proxy"],[34,15,27,13],[35,6,28,4],[35,10,28,8,"previous"],[35,18,28,16],[35,22,28,20],[35,26,28,20,"isRecordEqual"],[35,54,28,33],[35,56,28,34,"previous"],[35,64,28,42],[35,66,28,44,"routeWithoutState"],[35,83,28,61],[35,84,28,62],[35,86,28,64],[36,8,29,6],[37,8,30,6,"proxy"],[37,13,30,11],[37,16,30,14,"previous"],[37,24,30,22],[38,6,31,4],[38,7,31,5],[38,13,31,11],[39,8,32,6,"proxy"],[39,13,32,11],[39,16,32,14,"routeWithoutState"],[39,33,32,31],[40,6,33,4],[41,6,34,4],[41,10,34,8,"process"],[41,17,34,15],[41,18,34,16,"env"],[41,21,34,19],[41,22,34,20,"NODE_ENV"],[41,30,34,28],[41,35,34,33],[41,47,34,45],[41,49,34,47],[42,8,35,6],[43,8,36,6],[44,8,37,6],[44,13,37,11],[44,19,37,17,"key"],[44,22,37,20],[44,26,37,24,"proxy"],[44,31,37,29],[44,33,37,31],[45,10,38,8],[46,10,39,8],[46,16,39,14,"value"],[46,21,39,19],[46,24,39,22,"proxy"],[46,29,39,27],[46,30,39,28,"key"],[46,33,39,31],[46,34,39,32],[47,10,40,8,"Object"],[47,16,40,14],[47,17,40,15,"defineProperty"],[47,31,40,29],[47,32,40,30,"proxy"],[47,37,40,35],[47,39,40,37,"key"],[47,42,40,40],[47,44,40,42],[48,12,41,10,"enumerable"],[48,22,41,20],[48,24,41,22],[48,28,41,26],[49,12,42,10,"configurable"],[49,24,42,22],[49,26,42,24],[49,30,42,28],[50,12,43,10,"writable"],[50,20,43,18],[50,22,43,20],[50,27,43,25],[51,12,44,10,"value"],[52,10,45,8],[52,11,45,9],[52,12,45,10],[53,8,46,6],[54,6,47,4],[55,6,48,4,"Object"],[55,12,48,10],[55,13,48,11,"defineProperty"],[55,27,48,25],[55,28,48,26,"proxy"],[55,33,48,31],[55,35,48,33,"CHILD_STATE"],[55,46,48,44],[55,48,48,46],[56,8,49,6,"enumerable"],[56,18,49,16],[56,20,49,18],[56,25,49,23],[57,8,50,6,"configurable"],[57,20,50,18],[57,22,50,20],[57,26,50,24],[58,8,51,6,"value"],[58,13,51,11],[58,15,51,13,"state"],[59,6,52,4],[59,7,52,5],[59,8,52,6],[60,6,53,4,"acc"],[60,9,53,7],[60,10,53,8,"set"],[60,13,53,11],[60,14,53,12,"route"],[60,19,53,17],[60,20,53,18,"key"],[60,23,53,21],[60,25,53,23,"proxy"],[60,30,53,28],[60,31,53,29],[61,6,54,4],[61,13,54,11,"acc"],[61,16,54,14],[62,4,55,2],[62,5,55,3],[62,7,55,5],[62,11,55,9,"Map"],[62,14,55,12],[62,15,55,13],[62,16,55,14],[62,17,55,15],[63,4,56,2],[63,11,56,9,"Array"],[63,16,56,14],[63,17,56,15,"from"],[63,21,56,19],[63,22,56,20,"cache"],[63,27,56,25],[63,28,56,26,"current"],[63,35,56,33],[63,36,56,34,"values"],[63,42,56,40],[63,43,56,41],[63,44,56,42],[63,45,56,43],[64,2,57,0],[65,0,57,1],[65,3]],"functionMap":{"names":["<global>","useRouteCache","React.useMemo$argument_0","routes.reduce$argument_0"],"mappings":"AAA;OCe;8BCE;IDE;gCEC;GFkC;CDE"}},"type":"js/module"}]}